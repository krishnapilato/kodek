<nav
  data-aos-offset="0"
  data-aos="fade-down"
  data-aos-duration="500"
  [ngClass]="{
    'bg-gradient-to-r from-blue-500/80 to-blue-700/80': isDarkTheme,
    'bg-gradient-to-r from-blue-900/80 to-blue-800/80': !isDarkTheme
  }"
  class="shadow-md sticky top-0 left-0 w-full z-50 rounded-b-lg"
>
  <div class="container mx-auto flex items-center justify-between py-4 px-6 mb-1">
    <!-- Brand Logo with Tooltip -->
    <a
      class="flex items-center space-x-2 text-white font-bold relative group"
      [routerLink]="['']"
    >
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" width="30" height="30">
      <g fill="none" stroke="currentColor" stroke-width="2">
        <!-- Horizon Line -->
        <line x1="5" y1="30" x2="35" y2="30" />
        <!-- Curved "S" Shape -->
        <path d="M 10 18 Q 15 12, 20 18 Q 25 22, 30 18" />
        <!-- Circular "H" -->
        <circle cx="20" cy="12" r="5" />
        <!-- KK Initials -->
        <text x="20" y="28" font-size="6" text-anchor="middle" font-family="Arial" fill="currentColor">KK</text>
      </g>
    </svg>
      <span>{{ headerTitle }}</span>

      <!-- Tooltip for Home -->
      <div
        class="absolute left-1/2 transform -translate-x-1/2 top-full mt-2 w-max p-2 bg-gray-700 text-white text-xs rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-300"
      >
        Home
      </div>
    </a>

    <!-- Mobile Menu Button -->
    <button
      class="lg:hidden text-gray-400 hover:text-white p-2 rounded focus:outline-none focus:ring-2 focus:ring-gray-500 transition"
      (click)="toggleOffcanvas()"
      aria-label="Toggle Menu"
      id="theme-toggle"
    >
      <!-- Custom SVG Icon -->
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-8 w-8"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
        stroke-width="2"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M4 6h16M4 12h16m-7 6h7"
        />
      </svg>
    </button>

    <!-- Navbar Links (Desktop) -->
    <ul class="hidden lg:flex space-x-8 items-center">
      <li *ngFor="let link of navLinks" class="relative group">
        <a
          class="text-gray-300 hover:text-blue-400 transition font-medium flex items-center space-x-2"
          [routerLink]="link.route"
        >
          <i class="fa" [ngClass]="link.icon"></i>
          <span *ngIf="link.label != 'Theme'">{{ link.label }}</span>

          <!-- Theme Icon with Tooltip -->
          <mat-icon
            *ngIf="link.label === 'Theme'"
            class="text-gray-400 ml-2 cursor-pointer animate-pulse hover:animate-bounce"
            (click)="toggleTheme()"
          >
            {{ isDarkTheme ? 'wb_sunny' : 'nights_stay' }}
          </mat-icon>
        </a>

        <!-- Tooltip for Navbar Links -->
        <div
          class="absolute left-1/2 transform -translate-x-1/2 top-full mt-2 w-max p-2 bg-gray-700 text-white text-xs rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-300"
        >
          {{ link.label }}
        </div>
      </li>
    </ul>
  </div>
</nav>

<!-- Offcanvas Menu (Mobile) -->
<div
  *ngIf="isOffcanvasOpen"
  class="fixed inset-0 z-40 flex justify-center items-center backdrop-blur"
  (click)="toggleOffcanvas()"
>
  <div
    [ngClass]="{
      'bg-gradient-to-r from-blue-500/80 to-blue-700/80': isDarkTheme,
      'bg-gradient-to-r from-blue-900/80 to-blue-800/80': !isDarkTheme
    }"
    class="bg-gray-700 w-full max-w-md rounded-lg shadow-2xl p-6 space-y-6 text-sm text-gray-300 text-center mx-4 relative"
    (click)="$event.stopPropagation()"
  >
    <!-- Close Button -->
    <button
      class="absolute top-4 right-4 text-gray-100 hover:text-red-500 focus:outline-none"
      (click)="toggleOffcanvas()"
    >
      <i class="fas fa-times text-2xl"></i>
    </button>

    <!-- Menu Header -->
    <h3 class="text-lg font-bold text-gray-100">Menu </h3>
    <p class="text-xs text-gray-400">Please select an option from the list</p>

    <mat-icon
      class="text-gray-400 ml-2 cursor-pointer animate-pulse hover:animate-pulse"
      (click)="toggleTheme()"
    >
      {{ isDarkTheme ? 'wb_sunny' : 'nights_stay' }}
    </mat-icon>

    <!-- Navigation Links (Mobile) -->
    <ul class="flex flex-col space-y-4">
      <li *ngFor="let link of navLinks" class="relative group">
        <a *ngIf="link.label != 'Theme'"
          class="flex items-center justify-start space-x-4 hover:text-blue-400 transition font-medium px-4 py-2 bg-gray-800 rounded-md"
          [routerLink]="link.route"
          (click)="onLinkClick()"
        >
          <i class="fa text-lg" [ngClass]="link.icon"></i>
          <span *ngIf="link.label != 'Theme'">{{ link.label }}</span>
        </a>

        <!-- Tooltip for Mobile Menu Links -->
        <div
          *ngIf="link.label !== 'Theme'"
          class="absolute left-1/2 transform -translate-x-1/2 bottom-full mb-2 w-max p-2 bg-gray-700 text-white text-xs rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-300"
        >
          {{ link.label }}
        </div>
      </li>
    </ul>
  </div>
</div>
