<!-- Tailwind Dark Navbar -->
<nav
  data-aos-offset="0"
  data-aos="fade-down"
  data-aos-duration="500"
  [ngClass]="{
    'bg-gradient-to-r from-blue-500/80 to-blue-700/80': isDarkTheme,
    'bg-gradient-to-r from-blue-900/80 to-blue-800/80': !isDarkTheme
  }"
  class="shadow-md fixed top-0 left-0 w-full z-50 rounded-b-lg"
>
  <div class="container mx-auto flex items-center justify-between py-4 px-6">
    <!-- Brand Logo -->
    <a
      class="flex items-center space-x-2 text-white font-bold"
      [routerLink]="['']"
    >
      <mat-icon>device_hub</mat-icon>
      <span>{{ headerTitle }}</span>
    </a>

    <!-- Mobile Menu Button -->
    <button
      class="lg:hidden text-gray-400 hover:text-white p-2 rounded focus:outline-none focus:ring-2 focus:ring-gray-500 transition"
      (click)="toggleOffcanvas()"
      aria-label="Toggle Menu"
      id="theme-toggle"
    >
      <!-- Custom SVG Icon -->
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-8 w-8"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
        stroke-width="2"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M4 6h16M4 12h16m-7 6h7"
        />
      </svg>
    </button>

    <!-- Navbar Links (Desktop) -->
    <ul class="hidden lg:flex space-x-8 items-center">
      <li *ngFor="let link of navLinks">
        <a
          class="text-gray-300 hover:text-blue-400 transition font-medium flex items-center space-x-2"
          [routerLink]="link.route"
        >
          <i class="fa" [ngClass]="link.icon"></i>
          <span *ngIf="link.label != 'Theme'">{{ link.label }}</span>

          <!-- Theme Icon with Tooltip -->
          <mat-icon
            *ngIf="link.label === 'Theme'"
            class="text-gray-400 ml-2 cursor-pointer"
            (click)="toggleTheme()"
          >
            {{ isDarkTheme ? 'wb_sunny' : 'nights_stay' }}
          </mat-icon>
        </a>
      </li>
    </ul>
  </div>
</nav>

<!-- Offcanvas Menu (Mobile) -->
<div
  *ngIf="isOffcanvasOpen"
  class="fixed inset-0 z-40 flex justify-center items-center backdrop-blur"
  (click)="toggleOffcanvas()"
>
  <div
  [ngClass]="{
    'bg-gradient-to-r from-blue-500/80 to-blue-700/80': !isDarkTheme,
    'bg-gradient-to-r from-blue-900/80 to-blue-800/80': isDarkTheme
  }"
    class="bg-gray-700 w-full max-w-md rounded-lg shadow-2xl p-6 space-y-6 text-sm text-gray-300 text-center mx-4 relative"
    (click)="$event.stopPropagation()"
  >
    <!-- Close Button -->
    <button
      class="absolute top-4 right-4 text-gray-100 hover:text-red-500 focus:outline-none"
      (click)="toggleOffcanvas()"
    >
      <i class="fas fa-times text-2xl"></i>
    </button>

    <!-- Menu Header -->
    <h3 class="text-lg font-bold text-gray-100">Menu </h3>
    <p class="text-xs text-gray-400">Please select an option from the list</p>

    <mat-icon matTooltip="Change theme" matTooltipPosition="left"
    (click)="toggleTheme()"
  >
    {{ isDarkTheme ? 'wb_sunny' : 'nights_stay' }}
  </mat-icon>

    <!-- Navigation Links -->
    <ul class="flex flex-col space-y-4">
      <li *ngFor="let link of navLinks">
        <a *ngIf="link.label != 'Theme'"
          class="flex items-center justify-start space-x-4 hover:text-blue-400 transition font-medium px-4 py-2 bg-gray-800 rounded-md"
          [routerLink]="link.route"
          (click)="onLinkClick()"
        >
          <i  class="fa text-lg" [ngClass]="link.icon"></i>
          <span *ngIf="link.label != 'Theme'">{{ link.label }}</span>
        </a>
      </li>
    </ul>
  </div>
</div>
